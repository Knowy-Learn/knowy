<!DOCTYPE HTML>
<html lang="es">
<head>
<!-- Generated by javadoc (21) on Wed Jul 23 23:25:11 CEST 2025 -->
<title>AccessController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-23">
<meta name="description" content="declaration: package: com.knowy.server.controller, class: AccessController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.knowy.server.controller</a></div>
<h1 title="Class AccessController" class="title">Class AccessController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.knowy.server.controller.AccessController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Controller
</span><span class="modifiers">public class </span><span class="element-name type-name-label">AccessController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.knowy.server.service.UserFacadeService,com.knowy.server.util.UserSecurityDetailsHelper)" class="member-name-link">AccessController</a><wbr>(<a href="../service/UserFacadeService.html" title="class in com.knowy.server.service">UserFacadeService</a>&nbsp;accessService,
 <a href="../util/UserSecurityDetailsHelper.html" title="class in com.knowy.server.util">UserSecurityDetailsHelper</a>&nbsp;userSecurityDetailsHelper)</code></div>
<div class="col-last even-row-color">
<div class="block">The constructor</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#passwordChange(java.lang.String,com.knowy.server.controller.dto.UserPasswordFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes)" class="member-name-link">passwordChange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 <a href="dto/UserPasswordFormDto.html" title="class in com.knowy.server.controller.dto">UserPasswordFormDto</a>&nbsp;userPasswordFormDto,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles POST requests to update a user's password as part of a password reset flow.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#passwordChange(java.lang.String,org.springframework.ui.Model)" class="member-name-link">passwordChange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles GET requests to display the password change form if the token is valid.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#passwordChangeEmail()" class="member-name-link">passwordChangeEmail</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles GET requests to display the password change email form.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#passwordChangeEmail(com.knowy.server.controller.dto.UserEmailFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes,jakarta.servlet.http.HttpServletRequest)" class="member-name-link">passwordChangeEmail</a><wbr>(<a href="dto/UserEmailFormDto.html" title="class in com.knowy.server.controller.dto">UserEmailFormDto</a>&nbsp;email,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the POST request to initiate a password change by sending a recovery email.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#procesarFormulario(com.knowy.server.controller.dto.UserRegisterFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.validation.Errors)" class="member-name-link">procesarFormulario</a><wbr>(@Valid <a href="dto/UserRegisterFormDto.html" title="class in com.knowy.server.controller.dto">UserRegisterFormDto</a>&nbsp;user,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
 org.springframework.validation.Errors&nbsp;errors)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the user registration form submission via POST.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#register(org.springframework.ui.Model)" class="member-name-link">register</a><wbr>(org.springframework.ui.Model&nbsp;model)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles GET requests for the registration page.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#viewLogin()" class="member-name-link">viewLogin</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles GET requests for the login page.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.knowy.server.service.UserFacadeService,com.knowy.server.util.UserSecurityDetailsHelper)">
<h3>AccessController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AccessController</span><wbr><span class="parameters">(<a href="../service/UserFacadeService.html" title="class in com.knowy.server.service">UserFacadeService</a>&nbsp;accessService,
 <a href="../util/UserSecurityDetailsHelper.html" title="class in com.knowy.server.util">UserSecurityDetailsHelper</a>&nbsp;userSecurityDetailsHelper)</span></div>
<div class="block">The constructor</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>accessService</code> - the accessService</dd>
<dd><code>userSecurityDetailsHelper</code> - the userSecurityDetailsService</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="viewLogin()">
<h3>viewLogin</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/login")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">viewLogin</span>()</div>
<div class="block">Handles GET requests for the login page.
 <p>
 Adds an empty <a href="dto/LoginFormDto.html" title="class in com.knowy.server.controller.dto"><code>LoginFormDto</code></a> object to the model, which will be used to bind the login form data in the
 view.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the login view template</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="register(org.springframework.ui.Model)">
<h3>register</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/register")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">register</span><wbr><span class="parameters">(org.springframework.ui.Model&nbsp;model)</span></div>
<div class="block">Handles GET requests for the registration page.
 <p>
 Adds an empty <a href="dto/UserRegisterFormDto.html" title="class in com.knowy.server.controller.dto"><code>UserRegisterFormDto</code></a> object to the model, which will be used to bind the user registration
 form data in the view.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>model</code> - the model to which attributes are added for the view rendering</dd>
<dt>Returns:</dt>
<dd>the name of the registration view template</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="procesarFormulario(com.knowy.server.controller.dto.UserRegisterFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes,org.springframework.validation.Errors)">
<h3>procesarFormulario</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/register")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">procesarFormulario</span><wbr><span class="parameters">(@Valid @ModelAttribute
 @Valid <a href="dto/UserRegisterFormDto.html" title="class in com.knowy.server.controller.dto">UserRegisterFormDto</a>&nbsp;user,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
 org.springframework.validation.Errors&nbsp;errors)</span>
                          throws <span class="exceptions"><a href="../service/exception/ImageNotFoundException.html" title="class in com.knowy.server.service.exception">ImageNotFoundException</a></span></div>
<div class="block">Handles the user registration form submission via POST.
 <p>
 This method validates the submitted <a href="dto/UserRegisterFormDto.html" title="class in com.knowy.server.controller.dto"><code>UserRegisterFormDto</code></a> and checks for binding errors. If validation
 errors are found, it redirects back to the registration page with the first error message. If the form is valid,
 it attempts to register a new user and automatically logs them in. In case of registration failure (e.g., due to
 invalid user data), it redirects back to the registration page with an appropriate error message.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>user</code> - the registration form data bound to <a href="dto/UserRegisterFormDto.html" title="class in com.knowy.server.controller.dto"><code>UserRegisterFormDto</code></a>, validated
                           automatically</dd>
<dd><code>redirectAttributes</code> - used to add flash attributes (such as error messages) during redirect</dd>
<dd><code>errors</code> - holds validation and binding errors for the submitted form</dd>
<dt>Returns:</dt>
<dd>a redirect URL string: either back to "/register" on error or to "/home" on successful registration</dd>
<dt>Throws:</dt>
<dd><code><a href="../service/exception/ImageNotFoundException.html" title="class in com.knowy.server.service.exception">ImageNotFoundException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="passwordChangeEmail()">
<h3>passwordChangeEmail</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/password-change/email")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">passwordChangeEmail</span>()</div>
<div class="block">Handles GET requests to display the password change email form.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the view for the password change email page</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="passwordChangeEmail(com.knowy.server.controller.dto.UserEmailFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes,jakarta.servlet.http.HttpServletRequest)">
<h3>passwordChangeEmail</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/password-change/email")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">passwordChangeEmail</span><wbr><span class="parameters">(@ModelAttribute("emailForm")
 <a href="dto/UserEmailFormDto.html" title="class in com.knowy.server.controller.dto">UserEmailFormDto</a>&nbsp;email,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest)</span></div>
<div class="block">Handles the POST request to initiate a password change by sending a recovery email.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>email</code> - the form object containing the user's email address</dd>
<dd><code>redirectAttributes</code> - attributes used to pass flash messages during redirect</dd>
<dd><code>httpServletRequest</code> - the HTTP servlet request object, used to build the password change URL</dd>
<dt>Returns:</dt>
<dd>a redirect string to either the login page on success or back to the email form on failure</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="passwordChange(java.lang.String,org.springframework.ui.Model)">
<h3>passwordChange</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/password-change")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">passwordChange</span><wbr><span class="parameters">(@RequestParam
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 org.springframework.ui.Model&nbsp;model)</span>
                      throws <span class="exceptions"><a href="../service/exception/UserNotFoundException.html" title="class in com.knowy.server.service.exception">UserNotFoundException</a></span></div>
<div class="block">Handles GET requests to display the password change form if the token is valid.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the token used to verify the password change request</dd>
<dd><code>model</code> - the model to which the token and password form DTO are added</dd>
<dt>Returns:</dt>
<dd>the name of the password change view if the token is registered, otherwise redirects to the home page</dd>
<dt>Throws:</dt>
<dd><code><a href="../service/exception/UserNotFoundException.html" title="class in com.knowy.server.service.exception">UserNotFoundException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="passwordChange(java.lang.String,com.knowy.server.controller.dto.UserPasswordFormDto,org.springframework.web.servlet.mvc.support.RedirectAttributes)">
<h3>passwordChange</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/password-change")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">passwordChange</span><wbr><span class="parameters">(@RequestParam("token")
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token,
 @ModelAttribute("passwordForm")
 <a href="dto/UserPasswordFormDto.html" title="class in com.knowy.server.controller.dto">UserPasswordFormDto</a>&nbsp;userPasswordFormDto,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</span></div>
<div class="block">Handles POST requests to update a user's password as part of a password reset flow.

 <p>This endpoint expects a valid JWT token and a form containing the new password and its confirmation.
 If the token is valid and all validations pass, the user's password is updated and the user is redirected to the
 login page.</p>

 <p>In case of failure (e.g., invalid token, mismatched passwords, or attempt to reuse the old password),
 the user is still redirected to the login page, and an error message can be passed via
 <code>RedirectAttributes</code>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - the JWT token used to authorize the password change request</dd>
<dd><code>userPasswordFormDto</code> - the form DTO containing the new password and its confirmation</dd>
<dd><code>redirectAttributes</code> - attributes used to pass query parameters or flash messages during redirection</dd>
<dt>Returns:</dt>
<dd>a redirect string to the login page, whether the operation succeeds or fails</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
