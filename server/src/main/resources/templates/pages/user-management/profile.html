<!DOCTYPE html>
<html lang="es"
	  layout:decorate="~{/layouts/user-postlogin-layout}"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Account</title>
	<link rel="stylesheet" th:href="@{/styles/account-management.css}">
</head>

<body>
<main layout:fragment="main-content">
	<!-- Main Content -->
	<div class="container main-container">
		<div class="row">
			<div class="col-12 col-lg-3">
				<div th:replace="~{components/sidebar-account-management :: sidebar('profile')}"></div>
			</div>

			<!-- Main Content -->
			<div class="col-12 col-lg-9">
				<div class="content-card">
					<h1 class="content-title">Editar Perfil</h1>
					<p class="text-muted mb-4">
						Mantén la privacidad de tus datos personales. Cualquier usuario que pueda ver tu perfil puede ver la información que añadas aquí.
					</p>

					<form id="profileForm" th:action="@{/pages/profile}" method="post" enctype="multipart/form-data" th:object="${user}">
						<div class="row mb-4">
							<div class="col-md-4 text-center">
								<div class="profile-pic-container position-relative mx-auto">
									<img src="https://placehold.co/50x50" alt="Profile Picture" class="profile-pic" id="profilePic">
									<label for="profilePicInput" class="edit-pic-btn">
										<i class="bi bi-pencil-fill"></i>
									</label>
									<input type="file" id="profilePicInput" name="profilePic" class="file-input-overlay" accept="image/*">
								</div>
							</div>
							<div class="col-md-8">
								<div class="mb-3">
									<label for="username" class="form-label">Nombre de Usuario:</label>
									<input type="text" class="form-control" id="username" th:field="*{user.username}" required>
								</div>

								<div class="mb-3">
									<label class="form-label">Lenguajes de Programación Favoritos:</label>
									<div class="row">
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="JavaScript" id="langJS" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'JavaScript')}">
												<label class="form-check-label" for="langJS">JavaScript</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="Python" id="langPython" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'Python')}">
												<label class="form-check-label" for="langPython">Python</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="Java" id="langJava" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'Java')}">
												<label class="form-check-label" for="langJava">Java</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="C#" id="langCSharp" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'C#')}">
												<label class="form-check-label" for="langCSharp">C#</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="TypeScript" id="langTS" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'TypeScript')}">
												<label class="form-check-label" for="langTS">TypeScript</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="PHP" id="langPHP" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'PHP')}">
												<label class="form-check-label" for="langPHP">PHP</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="Ruby" id="langRuby" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'Ruby')}">
												<label class="form-check-label" for="langRuby">Ruby</label>
											</div>
										</div>
										<div class="col-6 col-md-4">
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value="Swift" id="langSwift" name="favoriteLanguages" th:checked="${#lists.contains(user.favoriteLanguages, 'Swift')}">
												<label class="form-check-label" for="langSwift">Swift</label>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="d-flex flex-column flex-sm-row gap-2 justify-content-end">
							<button type="reset" class="btn btn-secondary">Restablecer</button>
							<button type="submit" class="btn btn-primary">Guardar Cambios</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</main>

</body>
</html>
