---

---

<div class="rounded-md border border-secondary-300 bg-accent-100 min-w-full p-8 shadow-sm shadow-zinc-200">
	<ol class="relative border-s border-secondary-300"></ol>
</div>

<script>
	import {marked} from "marked";

	function formatDate(dateString: string, locale: string) {
		const date = new Date(dateString);
		return new Intl.DateTimeFormat(locale, {
			day: "numeric",
			month: "long",
			year: "numeric",
		}).format(date);
	}

	interface NewsItem {
		title: string;
		content: string;
		date: string;
	}

	const response = await fetch("http://localhost:8080/api/v1/news");
	const newsList: NewsItem[] = await response.json();

	const list = document.querySelector("ol") as HTMLElement

	newsList.forEach((item) => {
		const li = document.createElement("li")
		li.className = "ms-6"
		li.innerHTML = `
		<span class="absolute -start-3 flex h-6 w-6 items-center justify-center rounded-full bg-accent-100 ring-8 ring-background">
		  <svg class="h-2.5 w-2.5 text-primary-700" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
		    <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"></path>
		  </svg>
		</span>
		
		<h3 class="mb-1 flex items-center text-lg font-semibold text-secondary-800">
		  ${item.title}
		</h3>
		
		<time class="block text-sm leading-none font-normal text-secondary-500">
		  ${formatDate(item.date, "es-ES")}
		</time>
		
		<p class="mb-4 text-base font-normal text-secondary-600 [&_a]:text-primary-400 [&_a]:font-medium">
		  ${marked.parseInline(item.content)}
		</p>
		`
		list.appendChild(li)
	})
</script>
